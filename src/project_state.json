{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 17,
  "summary": "App requiring separate sign-in flows for educators/parents vs students",
  "architectural_notes": [
    "Deployment/publishing workflow: user requested to publish the app after applying the latest update (toggle backend maintenance mode from unpublished to published after build).",
    "Backend currently starts in unpublished mode; when unpublished, frontend shows dedicated Takedown screen.",
    "Project renamed; update branding/UI copy to reflect new name “Homeschool Hub K-12” across web and app."
  ],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-add-a-role-specific-sign-in-choice-that-lets-users-start-authentication-explicitly-as-either-a-educator-parent-or-b-student-and-persist-that-pre-login-choice-through-the-internet-identity-login-flow-so-it-can-be-used-during-first-time-profile-setup",
      "title": "Add a role-specific sign-in choice that lets users start authentication explicitly as either (a) Educator/Parent or (b) Student, and persist that pre-login choice through the Internet Identity login flow so it can be used during first-time profile setup.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-update-first-time-profile-setup-to-respect-the-chosen-sign-in-type-by-defaulting-the-role-accordingly-educator-parent-admin-role-student-user-role-and-preventing-accidental-cross-role-selection-during-that-onboarding-step-when-a-sign-in-type-was-explicitly-chosen",
      "title": "Update first-time profile setup to respect the chosen sign-in type by defaulting the role accordingly (Educator/Parent => admin role, Student => user role) and preventing accidental cross-role selection during that onboarding step when a sign-in type was explicitly chosen.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-expose-the-separate-sign-in-entry-points-anywhere-the-app-offers-login-controls-to-unauthenticated-users-at-minimum-landing-page-and-the-global-header-while-continuing-to-use-the-existing-internet-identity-authentication-mechanism",
      "title": "Expose the separate sign-in entry points anywhere the app offers login controls to unauthenticated users (at minimum: Landing Page and the global Header), while continuing to use the existing Internet Identity authentication mechanism.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-backend-controlled-published-unpublished-maintenance-mode-that-allows-taking-the-live-deployed-draft-down-by-blocking-normal-app-usage-when-unpublished",
      "title": "Add a backend-controlled “published/unpublished” (maintenance) mode that allows taking the live deployed draft down by blocking normal app usage when unpublished.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-when-the-backend-reports-the-app-is-unpublished-the-frontend-must-show-a-dedicated-takedown-screen-instead-of-the-landing-page-profile-setup-or-dashboard-with-clear-english-copy-indicating-the-draft-is-currently-unavailable",
      "title": "When the backend reports the app is unpublished, the frontend must show a dedicated takedown screen instead of the Landing Page, Profile Setup, or Dashboard, with clear English copy indicating the draft is currently unavailable.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-admin-only-ui-control-that-allows-publishing-and-unpublishing-the-application-from-the-frontend-including-the-ability-to-provide-an-unpublish-reason-in-english",
      "title": "Add an admin-only UI control that allows publishing and unpublishing the application from the frontend, including the ability to provide an unpublish reason in English.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-all-user-facing-product-name-branding-in-the-frontend-from-smartlearn-to-homeschool-hub-k-12-including-the-global-header-brand-text-and-any-install-pwa-prompts",
      "title": "Replace all user-facing product name branding in the frontend from “SmartLearn” to “Homeschool Hub K-12”, including the global header brand text and any install/PWA prompts.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-update-pwa-browser-metadata-to-match-the-new-product-name-homeschool-hub-k-12-including-document-title-and-apple-pwa-title",
      "title": "Update PWA/browser metadata to match the new product name “Homeschool Hub K-12”, including document title and Apple PWA title.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-pwa-manifest-metadata-name-short-name-description-to-reflect-the-new-product-name-homeschool-hub-k-12-and-ensure-it-is-consistent-with-the-browser-metadata",
      "title": "Update the PWA manifest metadata (name/short_name/description) to reflect the new product name “Homeschool Hub K-12” and ensure it is consistent with the browser metadata.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-add-updated-app-icon-assets-that-match-the-new-homeschool-hub-k-12-branding-and-reference-them-from-the-pwa-manifest-and-html-apple-touch-icon-links",
      "title": "Add updated app icon assets that match the new “Homeschool Hub K-12” branding and reference them from the PWA manifest and HTML Apple touch icon links.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-update-all-user-facing-premium-pricing-copy-to-state-that-premium-report-cards-cost-5-billed-every-9-weeks-replace-any-existing-every-3-months-3-months-messaging-wherever-it-appears",
      "title": "Update all user-facing premium pricing copy to state that Premium Report Cards cost $5 billed every 9 weeks (replace any existing “every 3 months” / “/ 3 months” messaging wherever it appears).",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-checkout-line-item-metadata-sent-to-the-backend-so-that-the-product-description-reflects-a-9-week-access-period-at-5-e-g-replace-3-months-access-to-report-card-features-with-9-weeks-access-to-report-card-features",
      "title": "Update the checkout line-item metadata sent to the backend so that the product description reflects a 9-week access period at $5 (e.g., replace “3 months access to report card features” with “9 weeks access to report card features”).",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-stripe-checkout-session-for-premium-report-card-access-charges-exactly-5-00-usd-500-cents-by-sending-500-cents-as-the-line-item-amount-when-creating-a-checkout-session-from-the-frontend",
      "title": "Ensure the Stripe checkout session for Premium Report Card Access charges exactly $5.00 USD (500 cents) by sending 500 cents as the line-item amount when creating a checkout session from the frontend.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-update-any-user-facing-price-formatting-for-premium-report-cards-to-display-5-00-two-decimal-places-wherever-the-premium-price-is-shown-in-the-ui",
      "title": "Update any user-facing price formatting for Premium Report Cards to display “$5.00” (two decimal places) wherever the premium price is shown in the UI.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-expose-the-new-lesson-plan-draft-generator-in-the-frontend-under-lesson-plans-so-teachers-can-generate-a-plan-and-then-create-save-it-as-a-normal-lesson-plan",
      "title": "Expose the new lesson plan draft generator in the frontend under Lesson Plans so teachers can generate a plan and then create/save it as a normal lesson plan.",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hook-s-for-the-ai-lesson-plan-draft-generation-api-and-ensure-queries-mutations-follow-existing-patterns-in-frontend-src-hooks-usequeries-ts-toasts-for-success-error-actor-availability-checks",
      "title": "Add React Query hook(s) for the AI lesson plan draft generation API and ensure queries/mutations follow existing patterns in frontend/src/hooks/useQueries.ts (toasts for success/error, actor availability checks).",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-users-who-sign-in-as-educator-parent-stored-created-as-the-admin-role-can-access-the-full-lesson-plans-creation-features-custom-lesson-ai-create-plan-and-library-in-the-same-way-as-teachers-and-ensure-students-cannot-access-lesson-plan-creation-controls",
      "title": "Ensure users who sign in as Educator/Parent (stored/created as the admin role) can access the full Lesson Plans creation features (Custom Lesson, AI Create Plan, and Library) in the same way as teachers, and ensure students cannot access lesson-plan creation controls.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-upload-lesson-option-inside-the-lesson-plans-create-new-lesson-plan-dialog-that-lets-an-educator-parent-create-a-lesson-plan-by-uploading-a-local-text-based-file-extracting-its-contents-on-the-client-and-then-saving-it-as-a-normal-lesson-plan-using-the-existing-create-lesson-plan-flow",
      "title": "Add an “Upload Lesson” option inside the Lesson Plans “Create New Lesson Plan” dialog that lets an Educator/Parent create a lesson plan by uploading a local text-based file, extracting its contents on the client, and then saving it as a normal lesson plan using the existing create lesson plan flow.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-verify-that-ai-lesson-plan-draft-generation-and-saving-works-for-educator-parent-users-and-improve-any-user-facing-authorization-error-messaging-related-to-lesson-plan-creation-so-it-does-not-refer-to-teachers-only-when-the-intended-allowed-role-is-educator-parent-admin",
      "title": "Verify that AI lesson plan draft generation and saving works for Educator/Parent users, and improve any user-facing authorization error messaging related to lesson plan creation so it does not refer to “teachers” only when the intended allowed role is Educator/Parent (admin).",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Add separate sign-in for educators/parents distinct from student sign-in",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Take down / unpublish the live deployed draft environment",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Change the backend default publication status so that newly deployed/installed canisters start in the published state (while keeping the existing admin-only publish/unpublish methods intact).",
      "reqIds": [
        "REQ-6"
      ],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Add a conditional migration that, on upgrade, can set the existing canister state to published so the app becomes live after an update (without breaking upgrades where a developer explicitly wants to keep it unpublished).",
      "reqIds": [
        "REQ-7"
      ],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Update web + app UI text/branding to match the new project name “Homeschool Hub K-12”",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Update pricing to $5 billed every 9 weeks",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Update the backend premium access duration so that newly granted/purchased premium access lasts 9 weeks (instead of the current ~3-month duration), while keeping the price at 500 cents.",
      "reqIds": [
        "REQ-15"
      ],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Update any backend-provided premium price strings shown in preview/onboarding data (e.g., App Store preview / onboarding guide premium sections) so they describe $5 every 9 weeks in clear English.",
      "reqIds": [
        "REQ-16"
      ],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Change the actual amount charged (payment price) to $5.00",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Enforce the $5.00 (500 cents) price on the backend for Premium Report Card Access by validating incoming checkout line items and rejecting any attempt to create a checkout session with a different amount for that product.",
      "reqIds": [
        "REQ-18"
      ],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Add an AI feature under Lesson Plans that can generate/create lesson plans",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Add a new backend API that generates an AI-style lesson plan draft (title + content text) from user inputs (subject, grade level, and optional topic/standards/constraints), without calling any third-party AI/LLM service.",
      "reqIds": [
        "REQ-20"
      ],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Allow parents (Educator/Parent role) to create lesson plans, upload lesson plans, and generate AI lesson plans within the Lesson Plans section",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "projectName": "Homeschool Hub K-12",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}