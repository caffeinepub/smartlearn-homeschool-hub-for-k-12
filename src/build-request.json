{
  "kind": "build_request",
  "title": "Set Stripe charge amount to $5.00 for Premium Report Cards",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-17",
      "text": "Ensure the Stripe checkout session for Premium Report Card Access charges exactly $5.00 USD (500 cents) by sending 500 cents as the line-item amount when creating a checkout session from the frontend.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "change amount charged to $5.00"
        ]
      },
      "acceptanceCriteria": [
        "When starting the Premium upgrade flow, the checkout session request includes a single line item with priceInCents = 500 (USD) and quantity = 1.",
        "No frontend code path sends a different priceInCents value for Premium Report Card Access."
      ]
    },
    {
      "id": "REQ-18",
      "text": "Enforce the $5.00 (500 cents) price on the backend for Premium Report Card Access by validating incoming checkout line items and rejecting any attempt to create a checkout session with a different amount for that product.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "change amount charged to $5.00"
        ]
      },
      "acceptanceCriteria": [
        "If a caller tries to create a checkout session for Premium Report Card Access with priceInCents other than 500, the backend rejects the request with a clear error.",
        "A normal premium checkout flow succeeds when priceInCents is 500."
      ]
    },
    {
      "id": "REQ-19",
      "text": "Update any user-facing price formatting for Premium Report Cards to display “$5.00” (two decimal places) wherever the premium price is shown in the UI.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "change amount charged to $5.00"
        ]
      },
      "acceptanceCriteria": [
        "Premium pricing UI text displays “$5.00” (not “$5”) wherever the premium price is shown.",
        "All updated user-facing text remains in English."
      ]
    }
  ],
  "constraints": [
    "Do not edit files under frontend/src/components/ui (read-only).",
    "Do not edit frontend/src/hooks/useInternetIdentity.ts or frontend/src/hooks/useActor.ts (immutable paths).",
    "Backend must remain a single Motoko actor in backend/main.mo; only add backend/migration.mo if state migration is truly required."
  ],
  "nonGoals": [
    "Changing the premium access duration (e.g., 9 weeks) beyond what is needed to enforce the $5.00 charge amount.",
    "Adding new payment providers or authentication methods."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}